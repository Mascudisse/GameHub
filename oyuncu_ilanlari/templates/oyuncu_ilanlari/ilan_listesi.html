{% extends "base.html" %}
{% load static %}
{% block title %}Oyuncu Ä°lanlarÄ± | GameHub{% endblock %}

{% block icerik %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css">

<style>
    :root {
        --dark-anthracite: #212529;
        --soft-gray: #f8f9fa;
        --card-border: #e9ecef;
        --text-secondary: #6c757d;
    }

    body {
        background-color: var(--soft-gray);
    }

    /* BaÅŸlÄ±k TasarÄ±mÄ± */
    .page-title {
        color: var(--dark-anthracite);
        font-weight: 800;
        letter-spacing: -1px;
    }

    .title-underline {
        width: 50px;
        height: 4px;
        background-color: var(--dark-anthracite);
        margin: 1rem auto;
        border-radius: 2px;
    }

    /* Kart TasarÄ±mÄ± */
    .ilan-card {
        border: 1px solid var(--card-border);
        border-radius: 20px;
        background: #ffffff;
        transition: all 0.3s ease;
    }

    .ilan-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(33, 37, 41, 0.05) !important;
    }

    .game-title {
        color: var(--dark-anthracite);
        font-weight: 800;
        font-size: 1.15rem;
        margin-bottom: 1.2rem;
    }

    /* Bilgi SatÄ±rlarÄ± */
    .info-item {
        display: flex;
        justify-content: space-between;
        padding: 5px 0;
        font-size: 0.9rem;
    }

    .info-label {
        color: var(--text-secondary);
    }

    .info-value {
        font-weight: 600;
        color: var(--dark-anthracite);
    }

    /* Profesyonel Sade Butonlar */
    .action-container {
        display: flex;
        gap: 10px;
        margin-top: auto;
        padding-top: 1.5rem;
    }

    /* DÃ¼zenle: Ana Ä°ÅŸlem */
    .btn-edit-minimal {
        background-color: var(--dark-anthracite);
        color: white !important;
        flex-grow: 1;
        text-align: center;
        padding: 10px;
        border-radius: 10px;
        font-weight: 600;
        font-size: 0.85rem;
        text-decoration: none;
        transition: 0.2s;
        border: none;
    }

    .btn-edit-minimal:hover {
        background-color: #000;
    }

    /* Sil: Ä°kincil Ä°ÅŸlem (Sadece Ä°kon) */
    .btn-delete-minimal {
        width: 42px;
        height: 42px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 10px;
        color: #dc3545;
        background-color: #fff5f5;
        transition: 0.2s;
        text-decoration: none;
        border: 1px solid #fee2e2;
    }

    .btn-delete-minimal:hover {
        background-color: #dc3545;
        color: white;
    }

    /* Yeni Ä°lan Butonu */
    .btn-add-primary {
        background-color: var(--dark-anthracite);
        color: white !important;
        padding: 15px 40px;
        border-radius: 14px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        text-decoration: none;
        display: inline-block;
        transition: 0.3s;
    }

    .btn-add-primary:hover {
        transform: scale(1.03);
        box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    }
</style>

<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="display-5 page-title">ðŸŽ® OYUNCU Ä°LANLARI</h1>
        <div class="title-underline"></div>
        <p class="text-muted">TakÄ±m arkadaÅŸÄ±nÄ± bul, maceraya baÅŸla.</p>
    </div>

    <div class="row g-4">
        {% for ilan in ilanlar %}
        <div class="col-lg-4 col-md-6">
            <div class="card ilan-card h-100 border-0 shadow-sm">
                <div class="card-body p-4 d-flex flex-column">
                    
                    <h5 class="game-title">
                        {{ ilan.oyun_adi|upper }}
                    </h5>

                    <div class="mb-3">
                        <div class="info-item">
                            <span class="info-label">Oyuncu</span>
                            <span class="info-value">{{ ilan.oyuncu_adi }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Rank</span>
                            <span class="info-value text-uppercase">{{ ilan.rank|default:"-" }}</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Platform</span>
                            <span class="info-value">{{ ilan.platform|default:"PC" }}</span>
                        </div>
                    </div>

                    <p class="text-muted small mb-0" style="line-height: 1.5;">
                        {{ ilan.aciklama|truncatechars:90 }}
                    </p>
                    
                    {% if user.is_authenticated %}
                    <div class="action-container">
                        <a href="{% url 'oyuncu_ilanlari:ilan_duzenle' ilan.id %}" class="btn-edit-minimal">
                            <i class="bi bi-pencil-square me-2"></i>DÃ¼zenle
                        </a>
                        
                        <a href="{% url 'oyuncu_ilanlari:ilan_sil' ilan.id %}" 
                           class="btn-delete-minimal" 
                           onclick="return confirm('Bu ilanÄ± silmek istediÄŸinize emin misiniz?')"
                           title="Sil">
                            <i class="bi bi-trash3"></i>
                        </a>
                    </div>
                    {% endif%}
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center py-5">
            <i class="bi bi-person-x display-1 text-muted opacity-25"></i>
            <h4 class="mt-3 text-muted">Aktif ilan bulunamadÄ±.</h4>
        </div>
        {% endfor %}
    </div>
    
    {% if user.is_authenticated %}
    <div class="text-center mt-5">
        <a href="{% url 'oyuncu_ilanlari:ilan_ekle' %}" class="btn-add-primary">
            <i class="bi bi-plus-lg me-2"></i>YENÄ° Ä°LAN OLUÅžTUR
        </a>
    </div>
    {%endif%}
</div>

{% endblock %}